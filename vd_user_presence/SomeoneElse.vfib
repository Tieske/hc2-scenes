{"name":"Iemand Anders","type":"virtual_device","properties":{"deviceIcon":0,"currentIcon":"1002","log":"","logTemp":"","mainLoop":"local GlobalName = \"SomeoneElse\"\n\n----------- Nothing to customize below ------------\n\nlocal Status = fibaro:getGlobalValue(GlobalName)\nlocal ThisDevice = fibaro:getSelfId()\n\nif Status == \"Away\" then\n  fibaro:call(ThisDevice, \"pressButton\", \"3\")\nelse\n  fibaro:call(ThisDevice, \"pressButton\", \"1\")\nend\n\nif GlobalName ~= \"SomeoneElse\" then\n  fibaro:sleep(24*60*60*1000) -- only run this once, and then once per day\nelse\n  -- this is \"SomeoneElse\", let's warn this is still enabled\n  if os.date(\"*t\").hour == 6 then\n    -- the hour is '6am - something' send an email when still \"Home\"\n    if Status == \"Home\" then\n      fibaro:call(2, \"sendEmail\", \"Warning: SomeoneElse still set to 'Home'\" , [[\nThis is a warning that in the Fibaro Home system your \"SomeoneElse\" user\nstill has state \"Home\".\n\nPlease correct it if it is no longer the case, or ignore this message otherwise.\n]])\n    end\n  end\n  fibaro:sleep(1*60*60*1000) -- sleep 1 hour in this case\nend\n","visible":"true","rows":[{"type":"button","elements":[{"id":1,"lua":true,"waitForResponse":false,"caption":"Home","name":"Button11","empty":false,"msg":"local GlobalName = \"SomeoneElse\"\n\n----------- Nothing to customize below ------------\n\nfibaro:setGlobal(GlobalName, \"Home\")\n","buttonIcon":1001,"favourite":false,"main":false},{"id":2,"lua":true,"waitForResponse":false,"caption":"Toggle","name":"Button12","empty":false,"msg":"local GlobalName = \"SomeoneElse\"\n\n----------- Nothing to customize below ------------\n\nlocal Status = fibaro:getGlobalValue(GlobalName)\nlocal ThisDevice = fibaro:getSelfId()\n\nif Status == \"Away\" then\n  fibaro:call(ThisDevice, \"pressButton\", \"1\")\nelse\n  fibaro:call(ThisDevice, \"pressButton\", \"3\")\nend","buttonIcon":1001,"favourite":false,"main":true},{"id":3,"lua":true,"waitForResponse":false,"caption":"Away","name":"Button13","empty":false,"msg":"local GlobalName = \"SomeoneElse\"\n\n----------- Nothing to customize below ------------\n\nfibaro:setGlobal(GlobalName, \"Away\")\n","buttonIcon":1002,"favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}